import{a as y,c as o}from"./chunk-YUVTMDMN.mjs";var F=(f,d)=>(n,{query:i,params:s,body:r,...e}={})=>{s&&Object.entries(s).forEach(([t,a])=>{n=n.replace(`:${t}`,a)});let h=e.headers?.["Content-Type"];if(!h||h==="application/json")try{r=JSON.stringify(r)}catch{}let l=d?.fetcher||globalThis.fetch,p=i?`?${new URLSearchParams(i).toString()}`:"",c=()=>l(f+n+p,{...e,method:e.method?.toUpperCase()||"GET",headers:r?{"content-type":"application/json",...e.headers}:e.headers,body:r}).then(async t=>{let a;switch(t.headers.get("Content-Type")?.split(";")[0]){case"application/json":a=await t.json();break;case"application/octet-stream":a=await t.arrayBuffer();break;case"multipart/form-data":let m=await t.formData();a={},m.forEach((u,E)=>{a[E]=u});break;default:a=await t.text().then(o)}return t.status>300?{data:null,status:t.status,headers:t.headers,retry:c,error:new y(t.status,a)}:{data:a,error:null,status:t.status,headers:t.headers,retry:c}});return c()};export{F as a};
